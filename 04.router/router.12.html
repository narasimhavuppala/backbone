<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <script src="../lib/underscore.js"></script>
    <script src="../lib/jquery.js"></script>
    <script src="../lib/backbone.js"></script>
</head>
<body>
<div id="urlPL"><strong>页面加载的URL:</strong><br><span></span></div>
<br>

<div id="url"><strong>当前URL:</strong><br><span></span></div>


<script>
    var myRouter = new Backbone.Router();

    Backbone.history.start();

    myRouter.route('search/:query', 'search', function (query) {
        console.log(query+'0');
    });

    //on()
    myRouter.on('route:search',function(query){
        console.log(query+'1');
    });
    //listenTo()
    Backbone.listenTo(myRouter,'route:search',function(query){
        console.log(query+'2');
    });

    //将url hash更改为#search/foo/today-newest/page1
    window.location.hash = 'search/foo';

    $('#url span').text(window.location.href);
</script>
</body>
</html>